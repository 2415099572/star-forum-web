{"remainingRequest":"/Users/haozhou/Desktop/Vue/star-forum-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haozhou/Desktop/Vue/star-forum-web/src/views/article/ArticleDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haozhou/Desktop/Vue/star-forum-web/src/views/article/ArticleDetails.vue","mtime":1581302307414},{"path":"/Users/haozhou/Desktop/Vue/star-forum-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haozhou/Desktop/Vue/star-forum-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/haozhou/Desktop/Vue/star-forum-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haozhou/Desktop/Vue/star-forum-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJBcnRpY2xlRGV0YWlscyIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8gdGl0bGU6ICJmc2tqZmtmaiIsCiAgICAgICAgICAgIG5pY2tuYW1lOiAibGxzc3MiLAogICAgICAgICAgICAvLyBkYXRlOiAiMjAyMC0wMi0wMiAyMDoyMDoyMCIsCiAgICAgICAgICAgIC8vIGNvbnRlbnQ6ICJqZm5ha2pma2FqZmFrbHNqYXNrbGRqc2FrbGRqc2EiLAogICAgICAgICAgICAvLyB0aHVtYnM6IDAsCiAgICAgICAgICAgIC8vIHZpc2l0czogMzAwLAogICAgICAgICAgICB0ZXh0YXJlYTogJycsCiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgYXJ0aWNsZURldGFpbHM6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICBkZWZhdWx0OiBudWxsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRlVGltZSh0aW1lKXsKICAgICAgICAgICAgdGltZSA9IHRpbWUuc3Vic3RyaW5nKDAsMTkpOwogICAgICAgICAgICB0aW1lID0gbmV3IERhdGUodGltZS5yZXBsYWNlKC8tL2csICIvIikucmVwbGFjZSgvVC9nLCAiICIpKTsKICAgICAgICAgICAgbGV0IGRheXMgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gdGltZS5nZXRUaW1lKCk7CiAgICAgICAgICAgIGlmIChwYXJzZUludChkYXlzIC8gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAzNjUpKSAhPT0gMCl7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZGF5cyAvICgxMDAwICogNjAgKiA2MCAqIDI0ICogMzY1KSkgKyAi5bm05YmNIgogICAgICAgICAgICB9ZWxzZSBpZiAocGFyc2VJbnQoZGF5cyAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgIT09IDApewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRheXMgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgIuWkqeWJjSIKICAgICAgICAgICAgfWVsc2UgaWYgKHBhcnNlSW50KGRheXMgLyAoMTAwMCAqIDYwICogNjApKSAhPT0gMCl7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZGF5cyAvICgxMDAwICogNjAgKiA2MCkpICsgIuWwj+aXtuWJjSIKICAgICAgICAgICAgfWVsc2UgaWYocGFyc2VJbnQoZGF5cyAvICgxMDAwICogNjApKSAhPT0gMCl7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZGF5cyAvICgxMDAwICogNjApKSArICLliIbpkp/liY0iCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChkYXlzIC8gMTAwMCkgKyAi56eS5YmNIgogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgc2hvd1JlcGx5KGl0ZW0pewogICAgICAgICAgICBpZighaXRlbS5pc1Nob3cpewogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdpc1Nob3cnLCBmYWxzZSkKICAgICAgICAgICAgICAgIGl0ZW0uaXNTaG93ID0gIWl0ZW0uaXNTaG93CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIGl0ZW0uaXNTaG93ID0gIWl0ZW0uaXNTaG93CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKCiAgICB9LAp9Cg=="},{"version":3,"sources":["ArticleDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ArticleDetails.vue","sourceRoot":"src/views/article","sourcesContent":["<template>\n    <div class=\"details\" v-if=\"articleDetails != null\">\n        <h2 class=\"title\">{{articleDetails.title}}</h2>\n        <div class=\"info\">\n            <span>{{nickname}}</span>\n            <span>发布于{{articleDetails.date}}</span>\n            <el-button icon=\"iconfont icondianzan1\" circle class=\"thumb\">&nbsp;{{articleDetails.thumbup}}</el-button>\n            <el-button icon=\"iconfont iconliulan\" circle class=\"visit\" disabled=\"\">&nbsp;{{articleDetails.visits}}</el-button>\n        </div>\n        <div class=\"content\">{{articleDetails.content}}</div>\n        <div class=\"comment\">\n            <el-input type=\"textarea\" :autosize=\"{ minRows: 4}\" placeholder=\"请输入内容\" v-model=\"textarea\" maxlength=\"1000\" show-word-limit class=\"com_content\"></el-input>\n            <el-button type=\"primary\" class=\"com_btn\">发表评论</el-button>\n        </div>\n        <li class=\"commentDetails\" v-for=\"item in articleDetails.comments\">\n            <div class=\"com_tar\">\n                <div class=\"user_info\">\n                    <a href=\"#\" class=\"info_link\" target=\"_blank\">\n                        <el-avatar :src=\"require('../../assets/img/header/avatar.png')\" size=\"small\"></el-avatar>\n                        <p class=\"nickname\">{{item.uid}}</p>\n                    </a>\n                    <span class=\"time\">{{getDateTime(item.createTime)}}</span>\n                </div>\n                <div class=\"menu\">\n                    <el-button icon=\"iconfont icondianzan1\" circle class=\"icon\">&nbsp;{{item.thumbup}}</el-button>\n                    <el-button icon=\"iconfont iconhuifu\" circle class=\"icon\" @click=\"showReply(item)\">&nbsp;{{item.reply}}</el-button>\n                    <el-button circle class=\"icon\">&nbsp;回复</el-button>\n                </div>\n            </div>\n            <p class=\"other_com_content\">{{item.content}}</p>\n            <ul class=\"other_reply\" v-show=\"item.isShow\">\n                <li v-for=\"reply in item.replys\" style=\"border-left-width: 3px; border-left-color: #909399; border-left-style: solid; padding-left: 5px\">\n<!--                    {{reply}}-->\n                    <div class=\"user_info\">\n                        <a href=\"#\" class=\"info_link\" target=\"_blank\">\n                            <el-avatar :src=\"require('../../assets/img/header/avatar.png')\" size=\"small\"></el-avatar>\n                            <p class=\"nickname\">{{reply.fromUid}}</p>\n                        </a>\n                        <span style=\"font-size: 12px;margin-left: 5px\"> 回复 {{reply.toUid}}</span>\n                        <span class=\"time\">{{getDateTime(reply.createTime)}}</span>\n                    </div>\n                    <p class=\"other_com_content\">{{reply.content}}</p>\n                </li>\n            </ul>\n            <el-divider></el-divider>\n        </li>\n    </div>\n    <div v-else>\n        没有查到文章\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"ArticleDetails\",\n        data(){\n            return {\n                // title: \"fskjfkfj\",\n                nickname: \"llsss\",\n                // date: \"2020-02-02 20:20:20\",\n                // content: \"jfnakjfkajfaklsjaskldjsakldjsa\",\n                // thumbs: 0,\n                // visits: 300,\n                textarea: '',\n            }\n        },\n        props: {\n            articleDetails: {\n                type: Object,\n                default: null\n            }\n        },\n        methods: {\n            getDateTime(time){\n                time = time.substring(0,19);\n                time = new Date(time.replace(/-/g, \"/\").replace(/T/g, \" \"));\n                let days = (new Date()).getTime() - time.getTime();\n                if (parseInt(days / (1000 * 60 * 60 * 24 * 365)) !== 0){\n                    return parseInt(days / (1000 * 60 * 60 * 24 * 365)) + \"年前\"\n                }else if (parseInt(days / (1000 * 60 * 60 * 24)) !== 0){\n                    return parseInt(days / (1000 * 60 * 60 * 24)) + \"天前\"\n                }else if (parseInt(days / (1000 * 60 * 60)) !== 0){\n                    return parseInt(days / (1000 * 60 * 60)) + \"小时前\"\n                }else if(parseInt(days / (1000 * 60)) !== 0){\n                    return parseInt(days / (1000 * 60)) + \"分钟前\"\n                }else {\n                    return parseInt(days / 1000) + \"秒前\"\n                }\n            },\n\n            showReply(item){\n                if(!item.isShow){\n                    this.$set(item, 'isShow', false)\n                    item.isShow = !item.isShow\n                }else {\n                    item.isShow = !item.isShow\n                }\n            }\n        },\n        computed: {\n\n        },\n    }\n</script>\n\n<style scoped>\n\n    .details{\n        background-color: rgb(229, 233, 242);\n        width: 70%;\n        margin-left: 15%;\n        margin-top: 20px;\n    }\n    .title{\n        width: 90%;\n        margin-left: 5%;\n        line-height: 40px;\n        background-color: antiquewhite;\n    }\n    .info{\n        margin-left: 5%;\n        font-size: smaller;\n        color: #909399;\n        margin-top: 10px;\n    }\n    .thumb{\n        background-color: rgba(0, 0, 0, 0);\n        border-style: none;\n        font-size: smaller;\n        color: #909399;\n        margin-left: 70%;\n    }\n    .visit{\n        background-color: rgba(0, 0, 0, 0);\n        border-style: none;\n        font-size: smaller;\n        color: #909399;\n    }\n    .visit:hover{\n        background-color: rgba(0, 0, 0, 0);\n        color: #909399;\n    }\n    .content{\n        width: 90%;\n        margin-left: 5%;\n        margin-top: 20px;\n    }\n\n    .comment{\n        display: flex;\n        width: 90%;\n        margin-left: 5%;\n        margin-top: 30px;\n        flex-direction: column;\n    }\n\n    .com_content{\n        width: 100%;\n    }\n\n    .commentDetails{\n        width: 90%;\n        margin-left: 5%;\n        margin-top: 15px;\n        list-style: none;\n    }\n\n    .user_info{\n        display: flex;\n        align-items: center;\n    }\n    .info_link{\n        display: flex;\n        align-items: center;\n        width: max-content;\n    }\n    .nickname{\n        margin-left: 15px;\n        font-size: 12px;\n    }\n    .time{\n        margin-left: 25px;\n        font-size: 10px;\n        /*margin-right: 70%;*/\n    }\n    .other_com_content{\n        margin-top: 10px;\n        font-size: 14px;\n    }\n\n    .com_tar{\n        display: flex;\n        justify-content: space-between;\n    }\n    .menu{\n        display: flex;\n        align-items: center;\n    }\n    .icon{\n        background-color: rgba(0, 0, 0, 0);\n        border-style: none;\n        font-size: smaller;\n        color: #909399;\n    }\n    .other_com_content{\n        height: min-content;\n    }\n\n    .other_reply{\n        margin-left: 20px;\n        margin-top: 20px;\n    }\n</style>"]}]}